<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
		
		<title>PRUEBA MOD 4</title>
	</head>

	<body>
		<!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
		<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
 
 		<script>
		
 		$(document).ready(function() {
			$('#btn_select').click(function() {
				$.ajax({
					url:'PrimerServlet',
					type:'GET',
					data : {
						operation : "select",
		                title_no : $("#title_no").val()
		            },
					success:function(response) {
						$('#title').val(response.split(";")[1]);
					}
				})	
			});
			
		
			$('#btn_insert').click(function() {
				$.ajax({
					url:'PrimerServlet',
					type:'GET',
					data : {
						operation : "insert",
		                title_no : $("#title_no").val(),
		                title : $("#title").val()
		            },
					success:function(response) {
						if (response == "Exito") {
							alert("Registro se ingresó correctamente");
						} else {
							alert("Falla en la inserción");
						}
					}
				})	
			});
			
			$('#btn_clear').click(function() {
				$("#title_no").val("");
		        $("#title").val("");
			});
	
		
			$('#btn_del').click(function() {
				$.ajax({
					url:'PrimerServlet',
					type:'GET',
					data : {
						operation : "delete",
		                title_no : $("#title_no").val()
		            },
					success:function(response) {
						if (response == "Exito") {
							alert("Registro eliminado");
						} else {
							alert("Falló en la eliminación");
						}
					}
				})	
			});
		    
			
			$('#btn_update').click(function() {
				$.ajax({
					url:'PrimerServlet',
					type:'GET',
					data : {
						operation : "update",
		                title_no : $("#title_no").val(),
		                title : $("#title").val()
		            },
					success:function(response) {
						if (response == "Exito") {
							alert("Modificación realizada correctamente");
						} else {
							alert("Falla en la Modificación");
						}
					}
				})	
			});
			
		});
		
	</script>

	
	<div class="container-fluid">
		<div class="jumbotron">
  			<h1>Prueba - Modulo IV x Elaine Medeiros</h1>
  		</div>
  		
			<div class="form-group">
	  			<label for="emp_no">Código del Cargo</label>
	  			<input type="text" class="form-control" id="title_no">
			</div>
			<div class="form-group">
	  			<label for="birth_date">Cargo</label>
	  			<input type="text" class="form-control" id="title">
			</div>			
			
		
		<br>
		<button type="button" class="btn btn-warning" id="btn_select">Consultar</button>
		<button type="button" class="btn btn-success" id="btn_insert">Agregar</button>
		<button type="button" class="btn btn-primary" id="btn_update">Modificar</button>
		<button type="button" class="btn btn-danger" id="btn_del">Eliminar</button>
		<button type="button" class="btn btn-secondary" id="btn_clear">Limpiar</button>
	</div>
	
</body>
</html>